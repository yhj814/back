# project-ggumteo

<h1>K-문화 콘텐츠 창작 지원 플랫폼 프로젝트 - '꿈터'</h1>

<h2>1. 기획 배경 및 기획 근거</h2>
<img src="https://github.com/user-attachments/assets/99b9409e-a6e5-49f9-a64b-824f08fd7222">

<h3>기획 근거 :</h3>

* 자본 부족과 수익 배분 문제로 인한 창작 한계
현재 독립영화나 출판을 시도하는 창작자들이 자본 부족으로 창작을 이어가기 어려운 상황입니다. 예를 들어, 독립영화는 상업영화에 밀려 전용관 확보가 어려워 제작된 영화의 67%만 개봉되는 현실에 직면하고 있습니다. 또한 작가들은 공정한 계약과 정당한 대가를 받지 못하는 문제를 지속적으로 제기하고 있습니다.
이러한 문제들은 창작자들에게 안정적인 수익 구조와 공정한 자본 지원이 필요하다는 것을 보여줍니다.

* 국내 콘텐츠 산업의 성장과 도전
한국의 콘텐츠 산업은 지난 20년간 높은 성장세를 유지했지만, 기업들이 지속적인 성장 동력을 확보하기 위해서는 창작의 '새로움'과 차별화된 지원이 필요하다는 점이 강조되고 있습니다.
이러한 맥락에서 창작자 지원 플랫폼은 창작자들에게 자본뿐만 아니라 협업과 맞춤형 지원을 제공해 콘텐츠 산업의 지속적인 발전에 기여할 수 있습니다.


<h3>기획 배경 :</h3>

* 창작자 비율 증가와 창작 도구의 접근성 확대
디지털 도구와 플랫폼 덕분에 창작 환경이 대중화되고 창작자가 늘어나고 있습니다. 하지만 독립 창작자들이 자본 조달이나 팀 구성에서 여전히 어려움을 겪으며, 체계적인 지원 부족이 주요 제약으로 작용하고 있습니다.

* 자본 부족과 수익 배분 문제 해결
창작자들은 여전히 자금 확보와 공정한 수익 분배의 어려움을 겪고 있습니다. 이러한 문제를 플랫폼을 통해 해결하여 창작의 문턱을 낮추는 것이 중요합니다.

* 창작 과정에서의 협업 지원 필요성
영상과 글 창작물은 자주 팀 작업이 필요합니다. 이를 위한 협업 공간과 연결의 부족이 창작의 한계로 작용하고 있으며, 이를 보완할 시스템이 필요합니다.

* 대표 펀딩 플랫폼 대비 낮은 수수료
기존 펀딩 플랫폼들은 높은 수수료 구조로 인해 창작자들이 얻을 수 있는 실제 수익이 적습니다. 이와 달리 우리의 플랫폼은 5%라는 낮은 수수료를 통해 창작자들이 더 많은 수익을 가져갈 수 있도록 설계되었습니다. 

<br>

<h2>2. 기대 효과</h2>
<img src="https://github.com/user-attachments/assets/00136921-b1ca-4d56-8e8c-f9132cfcebfd">

<h3>기대효과:</h3>

* 신진 창작자 발굴
신진 창작자들에게 자신의 작품을 소개하고 자금을 모을 기회를 제공하여 새로운 인재들을 발굴하는 데 기여합니다.

* 창작자 경제적 자립 강화
낮은 수수료 정책과 공정한 수익 분배 구조를 통해 창작자들이 경제적으로 자립할 수 있도록 돕습니다.

* 구매 및 후원의 직관적 구조
작품 판매, 펀딩 후원, 모집 지원 등 모든 프로세스를 직관적으로 설계하여 사용자 경험을 극대화합니다.

* 창작 생태계 활성화
창작자와 후원자, 협업자를 직접 연결함으로써 창작 환경의 문턱을 낮추고 생태계를 활성화합니다.

* K-콘텐츠 산업 발전 기여
독창적인 창작물들이 더 많이 생산되고, 글로벌 시장으로 확산됨으로써 K-콘텐츠 산업 발전에 기여합니다. <br><br><br>


<h2>3. 프로젝트 사용 툴</h2>
- Java<br>
- Java Spring Data<br>
- Java Script<br>
- tomcat<br>
- MySQL<br>
- Spring Boot<br>
- Visual Studio Code<br>
- DBeaver<br>
- Sourcetree<br>
- git, github<br>
- JSON<br>
- fetch<br>
- JDK 17.0.10<br>
- Kakao DEVELOPER API<br>
- Cool SMS API<br>
- REST API
- lombok<br>
- thymeleaf<br>
- Slack<br><br><br>


<h2>4. ERD</h2>
<img src="https://github.com/user-attachments/assets/0101067d-2f02-4d4f-a0cf-443e726b47bf"><br>


<h2>5. 담당 업무</h2>
5-1 프론트엔드<br><br>
<img src="https://github.com/user-attachments/assets/57c683c8-04cd-4e0c-989c-0e904f7dde82"><br><br>

▶ 영상
- 메인페이지 
- 작품-목록페이지
- 작품-상세페이지
- 작품-작성페이지
- 작품-수정페이지
- 펀딩-목록페이지
- 펀딩-상세페이지
- 펀딩-작성페이지
- 펀딩-수정페이지
  

▶ 글
- 메인페이지 
- 작품-목록페이지
- 작품-상세페이지
- 작품-작성페이지
- 작품-수정페이지
- 펀딩-목록페이지
- 펀딩-상세페이지
- 펀딩-작성페이지
- 펀딩-수정페이지

<br>
<br>
5-2 백엔드<br><br>
<img src="https://github.com/user-attachments/assets/23b8c6aa-6f30-4389-bf19-971783236c9b"><br><br>


▶ 관리자 페이지 : 인증번호
- 인증번호 입력 페이지에서 인증번호 입력시 관리자 페이지로 이동 (Redirect)


▶ 관리자 페이지 : 회원 관리
- Kakao DEVELOPER API를 활용하여 로그인 후 추가 정보를 입력한 회원들의 정보들을 조회
- 한 페이지당 5명의 회원을 조회할 수 있으며 다음 회원은 다음 페이지로 이동하여 조회
- 검색이 있으며 검색은 회원의 정보(이메일, 이름, 나이, 성별)로 검색 시 검색결과와 관련된 회원만 조회 가능
- 필터가 있으며 필터는 가입일 순, 활동 중, 탈퇴 로 나뉘며 각 필터 클릭 시 관련된 회원만 조회 가능 
- 회원들의 상태 (활동중, 탈퇴)를 관리자 권한으로 변경 가능


▶ 관리자 페이지 : 작품(영상, 글) 신고관리
- 영상과 글 작품 신고목록을 따로 조회할 수 있으며 작품 신고된 목록들만 조회 가능
- 한 페이지당 5개의 작품 신고목록을 조회할 수 있으며 다음 신고작품은 다음 페이지로 이동하여 조회 가능
- 검색이 있으며 검색은 장르, 작성자, 신고자, 신고 작품 제목으로 검색 시 관련 목록만 조회 가능
- 필터가 있으며 필터는 작성일 순, 조회수 순, 평점수 순, 신고관리가 있고 각 필터 클릭 시 순서에 맞게 게시글 조회가능, 신고관리는 신고상태가 REPORT(신고된 게시글 기본값)인 것만 조회 가능
- 신고 내역 보기 버튼 클릭 시 모달창이 열리고 모달창에서 신고자 정보와 신고내용 조회
- 신고 작품 선택 후 문자 발송 클릭 시 Cool SMS API를 활용하여 신고된 작품게시글 작성자에게 문자로 신고 상태 전송
- 관리자가 신고내용을 조회한 후 신고상태 (DELETE, HOLD, NOPROBLEM)로 변경 가능
- 신고된 작품 클릭 시 해당 작품 상세 페이지로 이동


▶ 관리자 페이지 : 모집(영상, 글) 신고관리
- 영상과 글 모집 신고목록을 따로 조회할 수 있으며 모집 신고된 목록들만 조회 가능
- 한 페이지당 5개의 모집 신고목록을 조회할 수 있으며, 다음 신고모집은 다음 페이지로 이동하여 조회
- 검색이 있으며 검색은 모집게시글 작성자, 분야, 신고글 제목으로 검색이 가능하며 검색 시 관련 목록만 조회 가능
- 필터가 있으며 필터는 작성일 순, 지원자수 순, 신고관리가 있고 각 필터 클릭 시 순서에 맞게 게시글 조회 가능, 신고관리는 신고상태가 REPORT(신고된 게시글 기본값)인 것만 조회 가능
- 신고 내역 보기 버튼 클릭 시 모달창이 열리고 모달창에서 신고자 정보와 신고내용 조회
- 관리자가 신고내용을 조회한 후 신고상태 (DELETE, HOLD, NOPROBLEM)로 변경 가능
- 신고된 모집 게시글 클릭 시 해당 모집 상세 페이지로 이동


▶ 관리자 페이지 : 펀딩(영상, 글) 신고관리
- 영상과 글 펀딩 신고목록을 따로 조회할 수 있으며 펀딩 신고된 목록들만 조회 가능
- 한 페이지당 5개의 펀딩 신고목록을 조회할 수 있으며, 다음 신고펀딩은 다음 페이지로 이동하여 조회
- 검색이 있으며, 검색은 펀딩게시글 작성자, 장르, 신고글 제목으로 검색이 가능하며 검색 시 관련 목록만 조회 가능
- 필터가 있으며 필터는 작성일 순, 현재모인금액 순, 투자자수 순, 신고관리가 있고 각 필터 클릭 시 순서에 맞게 게시글 조회 가능, 신고관리는 신고상태가 REPORT(신고된 게시글 기본값)인 것만 조회 가능
- 신고 내역 보기 버튼 클릭 시 모달창이 열리고 모달창에서 신고자 정보와 신고내용 조회
- 신고 펀딩 선택 후 문자 발송 클릭 시 Cool SMS API를 활용하여 신고된 펀딩게시글 작성자에게 문자로 신고 상태 전송
- 관리자가 신고내용을 조회한 후 신고상태 (DELETE, HOLD, NOPROBLEM)로 변경 가능
- 신고된 펀딩 게시글 클릭 시 해당 펀딩 상세 페이지로 이동


▶ 관리자 페이지 : 공지사항
- 공지사항 작성 :  관리자 페이지에서 공지사항 작성이 가능하며 제목과 내용을 입력하여 작성
- 공지사항 목록 :  관리자 페이지에도 공지사항 목록 조회가 가능
- 공자사항 수정 :  관리자 페이지에서 수정이 가능하며 수정 버튼 클릭 시 작성한 공지사항 상세 모달창이 보이며 제목과 내용 수정 가능
- 검색이 있으며 제목과 내용 으로 검색 시 검색결과와 관련된 게시글만 조회 가능
- 필터가 있으며 작성일 순, 수정날짜 순으로 구분되어 있고 각 필터 클릭 시 해당 공지사항만 조회 가능


▶ 관리자 페이지 : 댓글(영상, 글) 신고관리
- 영상,글 작품에 달린 댓글을 따로 조회 할 수 있으며 신고 댓글들만 조회 가능
- 한 페이지당 5개의 댓글 목록만 조회할 수 있으며 다음 신고댓글은 다음페이지로 이동하여 조회
- 검색이 있으며, 검색은 신고된 댓글이 달린 게시글, 작성자로 조회 가능하고 검색시 관련 목록만 조회 가능
- 필터가 있으며 필터는 작성일 순, 리뷰 관리가 있고 각 필터 클릭 시 순서에 맞게 게시글 조회 가능, 신고관리는 신고상태가 REPORT(신고된 게시글 기본값)인 것만 조회 가능
- 신고 내역 보기 버튼 클릭 시 모달창이 열리고 모달창에서 신고자 정보와 신고내용 조회
- 댓글 내용이 길어 화면을 벗어날 경우 ... 으로 생략 해 놓았고 댓글 클릭 시 모달창으로 댓글 원본 조회가능
- 관리자가 신고내용을 조회한 후 신고상태 (DELETE, HOLD, NOPROBLEM)로 변경 가능
- 신고된 리뷰가 달린 게시글 클릭 시 해당 작품게시글 상세 페이지로 이동


▶ 메인페이지 : 문의사항 작성
- 회원이 로그인 한 상태로 푸터에 문의하기 클릭 시 문의하기 페이지로 이동하며 제목과 내용 작성 시 해당 문의 사항이 관리자 페이지로 이동


▶ 관리자 페이지 : 문의사항 목록, 답변
- 회원이 작성한 문의 글이 관리자 페이지에서 조회가 가능하며 한 페이지당 5개의 문의사항을 조회할 수 있으며 다음 문의사항은 다음페이지에서 조회
- 검색이 있으며 문의제목, 내용, 작성자 검색 시 해당 문의 글만 조회 가능
- 필터가 있으며 문의일 순, 답변일 순, 미답변이 있고 답변일 순은 답변된 문의글만 미답변은 답변하지 않은 문의 글만 조회 가능
- 미답변 클릭 시 관리자가 문의 사항을 조회 하고 답변을 달 수 있으며 답변 내용은 마이페이지 내 문의에 관리자 답변에서 조회 가능


▶ 관리자 페이지 : 결제 관리
- 회원이 구매한 작품과 펀딩 상품을 조회 할 수 있으며 작품과 펀딩 따로 조회 가능
- 구매목록은 페이지당 5개씩 보이며 다음 구매 목록은 다음페이지로 이동하여 조회 가능
- 검색이 있으며 구분(영상, 글) 구매 상품, 구매자로 검색이 가능하며 검색 시 검색결과에 맞는 구매 목록 조회 가능
- 구매작품, 구매한 펀딩 상품 클릭 시 구매한 해당 작품과 펀딩 게시글 상세 페이지로 이동


▶ 관리자 페이지 : 로그아웃
- 로그 아웃 클릭 시 관리자 인증번호 입력 페이지로 이동

<br>
<br>

<h2>6. 느낀점</h2>
<h3>6-1. 오래 걸렸던 부분 </h3>
<h4>📌오류 메시지가 템플릿 문제로 나타나 실제 원인인 @ResponseBody 누락을 찾는 데 시간이 오래 걸렸다.</h4> <br>

<img src="https://github.com/user-attachments/assets/383107c7-72cb-4bae-92a8-c347027f375a">
<h4>☝🏻<잘못된 코드></h4>
관리자 페이지에서 회원목록을 조회하는 과정에서 위 코드에서 @ResponseBody 어노테이션이 누락되어 있었다.<br>
Spring MVC에서는 컨트롤러 메서드의 반환 값을 HTTP 응답 본문에 직접 매핑하기 위해 @ResponseBody 어노테이션을 필요로 한다.<br>
이 어노테이션이 없으면 뷰 리졸버가 반환 값을 뷰 이름으로 해석하려고 시도하여 원하는 JSON 데이터를 전달하지 못한다. <br><br>

<img src="https://github.com/user-attachments/assets/7a95cd40-3dd1-4c5a-ae65-f788e0d110dd"> 
<h4>☝🏻<오류 화면></h4>
이번 문제에서 가장 오래걸렸던 부분은 오류 메시지의 내용과 실제 문제의 원인을 연결짓는 것이었다.<br>
컨트롤러에서 데이터를 JSON 형태로 반환하려고 했지만, @ResponseBody 어노테이션이 누락되어 있어 서버는 반환 값을 뷰 이름으로 간주한거 같다.<br>
그 결과 Thymeleaf 템플릿을 찾을 수 없다는 TemplateInputException이 발생했는데, 이 오류 메시지는 직접적으로 어노테이션 누락을 지적하지 않아 문제를 파악하는 데 혼란을 주었다.<br>
특히 오류 메시지가 템플릿 관련 예외를 나타내다 보니, 처음에는 뷰 템플릿 경로나 설정에 문제가 있는 것으로 오해했다. <br>
하지만 컨트롤러 메서드의 반환 방식과 어노테이션 적용 여부를 재검토한 끝에 @ResponseBody가 누락된 것을 발견할 수 있었다. <br><br>

<img src="https://github.com/user-attachments/assets/81849853-2e75-4e0e-85be-63719f28fb6b"> 
<h4>☝🏻<완성 코드></h4>
✔ 오류 코드에서 @ResponseBody 어노테이션만 추가 하면 쉽게 해결되는 코드였다. 그러나 오류에만 집중하다보니 내 코드의 전체적인 흐름을 파악하지 못했다
그리고 Spring MVC에서의 어노테이션의 역할이 얼마나 중요한지 다시 한 번 깨닫게 되었다. 이번 경험을 통해 어노테이션의 사용을 중요시 하고 , 오류 발생 시 오류 메시지 뿐만 아니라 코드 전반을 꼼꼼히 살펴보는 습관을 가져야겠다고 느꼈다.<br>


<h3>6-2. 어려웠던 부분 </h3>
<h4>📌비동기 함수에서 async와 await의 사용 방법과 흐름을 정확히 이해하지 못해 코드를 수정하는 데 어려움을 겪었다.</h4> <br>

<img src="https://github.com/user-attachments/assets/844dd80e-52fb-4f9f-8ff0-43f6d7208a38">
<h4>☝🏻<잘못된 코드></h4>
위 코드에서는 fetch 함수의 비동기 특성을 고려하지 않고 동기식으로 작성되었다. <br>
함수가 비동기적으로 동작하려면 async 키워드로 선언되어야 하지만, 해당 함수를 일반 함수로 선언했다. <br>
따라서 await를 사용할 수 없는 상황이며 비동기 사용을 위한 적절한 방법이 적용되지 않았다. <br><br>

<img src="https://github.com/user-attachments/assets/16cdd737-6ab0-4839-815c-980630c34fa0">
<h4>☝🏻<완성 코드></h4>
✔ 비동기로 데이터를 받아오는 것이 익숙하지 않고 어려웠던 상태에서 기존 예제 코드를 참고하여
<strong>async 키워드 사용</strong>하고 함수 선언부에 <strong>async를 추가</strong>하여 해당 함수가 비동기 함수임을 명시해 함수 내부에서 await를 사용할 수 있게 수정했다.
응답 본문을 JSON으로 받기 위해 await를 사용하여 필요한 데이터를 객체 형태로 반환하고 <strong>try...catch 블록</strong>을 사용하여 오류나 기타 예외 상황을 처리했다.
오류가 발생하면 콘솔에 에러 메시지를 출력하고, 빈 데이터 객체를 반환하게 코드를 수정했다.<br>
비동기 프로그래밍은 동기식 코드와 달리 실행 흐름이 복잡하여 처음에는 이해하기 어려웠다. 특히 fetch 함수를 정확히 파악하지 못해 잘못된 코드를 작성했다. 
그러나 async와 await의 개념을 이해하고 나니, 비동기 작업을 보다 수월하게 처리할 수 있었다. 
이번 기회를 통해 JavaScript의 비동기 처리의 이해를 높일 수 있었고, 앞으로 비동기 함수를 작성할 때 주의해야 할 점들을 배웠다. <br><br>


<h3>6-3. 문제를 해결했던 부분</h3>
<h4>📌계속 1페이지만 출력되던 문제</h4>
🌩문제 상황🌩<br>
목록에서 받아올 총 데이터의 개수는 7개라 한 페이지당 5개의 데이터가 화면에 보여지고 2개의 데이터는 2페이지 버튼이 생기며 2페이지로 이동하여 조회를 해야하는데 1페이지 버튼만 생성되고 1페이지의 데이터만 보였다.   <br><br>
🚨문제 원인🚨 <br>
총 데이터와 페이지네이션 계산 순서 문제 <br><br>
🚀해결 방법🚀<br>
컨트롤러 코드를 점검하던 도중 전체 목록의 개수를 받아오고 총 데이터의 개수를 설정한 후 페이지네이션 계산을 수행 했어야 했는데 페이지네이션 계산을 먼저 수행하여 총 데이터의 개수를 받아오지 못하여 계속 1페이지만 출력되던
문제였다. 두 코드의 순서를 바꾸어 실행해보니 해결되었다.

<br><br>

<h4>📌신고된 게시글만 출력 되어야 하는데 모든 게시글이 신고목록에 출력되던 문제</h4>
🌩문제 상황🌩<br>
관리자 페이지 신고관리에는 신고된 게시글만 조회할 수 있으며 다른 게시글들은 보이면 안되는데 작성한 모든 게시글이 신고목록에 보여졌다.    <br><br>
🚨문제 원인🚨 <br>
신고글 조회 쿼리에서 신고가 되지 않는 기본 게시글들은 신고 id를 NULL로 지정을 했어야 했는데 지정하지 않고 모든 게사글을 SELECT 해와서 생기는 문제였다.   <br><br>
🚀해결 방법🚀<br>
쿼리문에서 신고 게시글을 조회할때 where절로 가져오는데 신고되지 않는 기본글들은 id를 NULL로 지정하여 문제를 해결했다  


p.post_type = 'FUNDINGVIDEO':

tbl_post 테이블의 post_type 컬럼이 'FUNDINGVIDEO'인 레코드만 선택합니다.
즉, 게시물의 유형이 **"영상 펀딩"**인 것만 조회합니다.
AND fr.id IS NOT NULL:

fr은 tbl_funding_report 테이블을 참조하며, 이 테이블은 펀딩에 대한 신고 정보를 담고 있습니다.
LEFT JOIN을 사용하여 fr과 조인했기 때문에, 해당 펀딩에 신고가 없으면 fr.id는 NULL이 됩니다.
따라서 fr.id IS NOT NULL 조건을 추가하면 신고가 있는 펀딩만 선택하게 됩니다.
주석 -- 항상 신고된 글만 표시는 이 조건이 신고된 글만 조회하기 위한 것임을 나타냅니다.
요약:

이 WHERE 절은 게시물 중에서 "영상 펀딩" 유형이며, 신고가 접수된 것만 조회하기 위한 조건입니다.
이를 통해 관리자는 신고된 영상 펀딩 게시물을 효율적으로 확인하고 처리할 수 있습니다.



























